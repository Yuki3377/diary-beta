<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>写メ日記AI</title>

<style>
:root {
  --bg: #fff4f8;
  --card: #ffffff;
  --accent: #ff5fa2;
  --accent-soft: #ffc2da;
  --text: #444;
  --radius: 18px;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", sans-serif;
  background: var(--bg);
  color: var(--text);
}

.wrapper {
  max-width: 520px;
  margin: 40px auto;
  padding: 20px;
}

h1 {
  text-align: center;
  font-size: 22px;
  margin-bottom: 20px;
}

/* ===== Tabs ===== */

.tabs {
  display: flex;
  background: white;
  border-radius: 30px;
  overflow: hidden;
  margin-bottom: 25px;
  box-shadow: 0 6px 20px rgba(255,95,162,0.1);
}

.tabs button {
  flex: 1;
  padding: 12px;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 14px;
}

.tabs button.active {
  background: var(--accent);
  color: white;
}

/* ===== Card ===== */

.card {
  background: var(--card);
  padding: 20px;
  border-radius: var(--radius);
  margin-bottom: 18px;
  box-shadow: 0 8px 20px rgba(255,95,162,0.08);
}

label {
  font-size: 13px;
  font-weight: 600;
}

select, input, textarea {
  width: 100%;
  padding: 14px;
  border-radius: 14px;
  border: 1px solid #eee;
  margin-top: 8px;
  font-size: 14px;
}

button.generate {
  width: 100%;
  padding: 16px;
  border: none;
  border-radius: 30px;
  font-size: 16px;
  background: linear-gradient(135deg, #ff5fa2, #ff85b3);
  color: white;
  cursor: pointer;
  margin-top: 10px;
}

.result {
  margin-top: 25px;
  padding: 22px;
  background: var(--accent-soft);
  border-radius: var(--radius);
  white-space: pre-wrap;
  font-size: 14px;
  line-height: 1.7;
  display: none;
}

.copy-btn {
  margin-top: 12px;
  background: white;
  border: 1px solid #ddd;
  border-radius: 20px;
  padding: 8px 12px;
  cursor: pointer;
  font-size: 12px;
}

/* ===== Loader ===== */

.loader {
  display: none;
  text-align: center;
  margin-top: 15px;
  font-size: 13px;
  opacity: 0.6;
}
</style>
</head>

<body>

<div class="wrapper">
  <h1>写メ日記 AI</h1>

  <div class="tabs">
    <button class="active" onclick="switchTab('normal')">通常日記</button>
    <button onclick="switchTab('thanks')">お礼日記</button>
  </div>

  <!-- ===== 通常日記 ===== -->
  <div id="normal">

    <div class="card">
      <label>今日の感情</label>
      <select id="mood">
        <option>甘えたい</option>
        <option>ムラムラしている</option>
        <option>寂しい</option>
        <option>ご機嫌</option>
        <option>イチャイチャしたい</option>
      </select>
    </div>

    <div class="card">
      <label>状況</label>
      <select id="situation">
        <option>出勤前</option>
        <option>待機中</option>
        <option>明日出勤</option>
        <option>退勤</option>
      </select>
    </div>

    <div class="card">
      <label>題名</label>
      <input id="title" type="text" placeholder="題名を入力">
    </div>

    <button class="generate" onclick="generateNormal()">生成する</button>
    <div class="loader" id="loader1">AIが考えています…</div>

  </div>

  <!-- ===== お礼日記 ===== -->
  <div id="thanks" style="display:none;">

    <div class="card">
      <label>場所</label>
      <input id="place" type="text" placeholder="例：○○ホテル">
    </div>

    <div class="card">
      <label>印象に残った出来事</label>
      <textarea id="memory" rows="3" placeholder="例：耳元で優しく囁いてくれたこと"></textarea>
    </div>

    <button class="generate" onclick="generateThanks()">生成する</button>
    <div class="loader" id="loader2">AIが考えています…</div>

  </div>

  <div class="result" id="result"></div>
  <button class="copy-btn" id="copyBtn" onclick="copyText()" style="display:none;">コピーする</button>

</div>

<script>

function switchTab(tab) {
  document.getElementById("normal").style.display = tab === "normal" ? "block" : "none";
  document.getElementById("thanks").style.display = tab === "thanks" ? "block" : "none";

  document.querySelectorAll(".tabs button").forEach(btn => btn.classList.remove("active"));
  event.target.classList.add("active");
}

function generateNormal() {
  const title = document.getElementById("title").value;
  if (!title) {
    alert("題名は必須です");
    return;
  }

  document.getElementById("loader1").style.display = "block";
  document.getElementById("result").style.display = "none";
  document.getElementById("copyBtn").style.display = "none";

  setTimeout(() => {
    const text =
`${title}

ちょっと甘えたい気分。

待機中なのに落ち着かなくて。

お兄さん、どうする？`;

    showResult(text);
    document.getElementById("loader1").style.display = "none";
  }, 1200);
}

function generateThanks() {
  document.getElementById("loader2").style.display = "block";
  document.getElementById("result").style.display = "none";
  document.getElementById("copyBtn").style.display = "none";

  setTimeout(() => {
    const text =
`さっき来てくれたお兄さんへ

耳元で優しく囁いてくれたの、まだ覚えてる。

あの距離、ちょっとドキドキした。

今日は本当にありがとう。

また会えたら嬉しいな…`;

    showResult(text);
    document.getElementById("loader2").style.display = "none";
  }, 1200);
}

function showResult(text) {
  const result = document.getElementById("result");
  result.innerText = text;
  result.style.display = "block";
  document.getElementById("copyBtn").style.display = "block";
}

function copyText() {
  const text = document.getElementById("result").innerText;
  navigator.clipboard.writeText(text);
  alert("コピーしました");
}

</script>

</body>
</html>
