<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>写メ日記AI</title>

<style>
:root{
  --bg:#fff4f8;
  --card:#ffffff;
  --accent:#ff5fa2;
  --accent-soft:#ffc2da;
  --text:#444;
  --radius:18px;
}

body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,sans-serif;
  background:var(--bg);
  color:var(--text);
}

.wrapper{
  max-width:520px;
  margin:40px auto;
  padding:20px;
}

h1{text-align:center;margin-bottom:20px;}

.card{
  background:var(--card);
  padding:18px;
  border-radius:var(--radius);
  margin-bottom:15px;
  box-shadow:0 8px 20px rgba(255,95,162,0.08);
}

select,input{
  width:100%;
  padding:12px;
  border-radius:12px;
  border:1px solid #eee;
  margin-top:8px;
}

button.primary{
  width:100%;
  padding:14px;
  border:none;
  border-radius:25px;
  background:linear-gradient(135deg,#ff5fa2,#ff85b3);
  color:white;
  cursor:pointer;
}

.result{
  margin-top:20px;
  padding:20px;
  background:var(--accent-soft);
  border-radius:var(--radius);
  white-space:pre-wrap;
  display:none;
}
</style>
</head>
<body>

<div class="wrapper">
<h1>写メ日記 AI</h1>

<div class="card">
<label>名前</label>
<input id="name">
</div>

<div class="card">
<label>自分の呼び方</label>
<input id="selfCall">
</div>

<div class="card">
<label>お客様の呼び方</label>
<input id="customerCall">
</div>

<div class="card">
<label>年齢</label>
<select id="age">
<option>20代</option>
<option>30代</option>
<option>40代</option>
<option>50代</option>
</select>
</div>

<div class="card">
<label>キャラクター</label>
<select id="character">
<option>妹系</option>
<option>小悪魔系</option>
<option>清楚系</option>
<option>お姉さん系</option>
<option>人妻系</option>
</select>
</div>

<div class="card">
<label>感情</label>
<select id="mood">
<option>甘えたい</option>
<option>ムラムラしている</option>
<option>寂しい</option>
<option>ご機嫌</option>
<option>イチャイチャしたい</option>
</select>
</div>

<div class="card">
<label>日記の状況</label>
<select id="situation">
<option>出勤前（当日）</option>
<option>待機中</option>
<option>明日出勤</option>
<option>退勤</option>
</select>
</div>

<div class="card">
<label>題名</label>
<input id="title">
</div>

<button class="primary" onclick="generate()">生成する</button>

<div class="result" id="result"></div>

</div>

<script>

/* ================================
   Prompt Builder
================================ */

function buildPrompt(data){

  return {
    profile:{
      name:data.name,
      selfCall:data.selfCall,
      customerCall:data.customerCall,
      age:data.age,
      character:data.character
    },
    condition:{
      mood:data.mood,
      situation:data.situation,
      title:data.title
    }
  };

}

/* ================================
   ローカル生成ロジック（AI代替）
================================ */

function generateText(prompt){

  const {profile,condition}=prompt;

  const introMap={
    "出勤前（当日）":["そろそろ準備しよっかなって。","今日ちゃんと来てくれる？"],
    "待機中":["いまお部屋で待ってる。","静かすぎてちょっと寂しい。"],
    "明日出勤":["明日いるよ。","予定あけといてくれる？"],
    "退勤":["今日はそろそろ帰るね。","ちょっと名残惜しい。"]
  };

  const moodMap={
    "甘えたい":["今日は甘えたい気分。","優しくされたい日かも。"],
    "ムラムラしている":["変なスイッチ入ってる。","触れられたらすぐ反応しそう。"],
    "寂しい":["ひとりだと考えちゃう。","会いたくなるよね。"],
    "ご機嫌":["今日は機嫌いいよ。","ちょっとテンション高め。"],
    "イチャイチャしたい":["くっつきたい。","距離近いの嫌いじゃない。"]
  };

  const endings=[
    "お誘い待ってます。",
    "一緒にイチャイチャしましょう。",
    `${profile.customerCall || "お兄さん"}来てくれる？`
  ];

  const intro=introMap[condition.situation][Math.floor(Math.random()*2)];
  const moodLine=moodMap[condition.mood][Math.floor(Math.random()*2)];
  const ending=endings[Math.floor(Math.random()*endings.length)];

  return `${condition.title}

${intro}

${moodLine}

${ending}`;

}

/* ================================
   生成実行
================================ */

function generate(){

  const data={
    name:document.getElementById("name").value,
    selfCall:document.getElementById("selfCall").value,
    customerCall:document.getElementById("customerCall").value,
    age:document.getElementById("age").value,
    character:document.getElementById("character").value,
    mood:document.getElementById("mood").value,
    situation:document.getElementById("situation").value,
    title:document.getElementById("title").value
  };

  if(!data.title){
    alert("題名必須");
    return;
  }

  const prompt=buildPrompt(data);
  const text=generateText(prompt);

  const result=document.getElementById("result");
  result.innerText=text;
  result.style.display="block";

}

</script>

</body>
</html>
